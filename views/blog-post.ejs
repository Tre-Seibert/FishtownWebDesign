<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Essential Meta Tags -->
    <title><%= post.metaTitle || post.title %> | Fishtown Web Design Blog</title>
    <meta name="description" content="<%= post.metaDescription || post.excerpt || post.title %>">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.fishtownwebdesign.com/blog/<%= post.slug %>" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="<%= post.metaTitle || post.title %> | Fishtown Web Design Blog">
    <meta property="og:description" content="<%= post.metaDescription || post.excerpt || post.title %>">
    <meta property="og:url" content="https://www.fishtownwebdesign.com/blog/<%= post.slug %>">
    <meta property="og:image" content="<%= post.featuredImage || 'https://www.fishtownwebdesign.com/public/content/home/fish.png' %>">
    <meta property="og:site_name" content="Fishtown Web Design">
    <meta property="article:published_time" content="<%= post.publishedAt %>">
    <meta property="article:modified_time" content="<%= post.updatedAt || post.publishedAt %>">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="<%= post.metaTitle || post.title %> | Fishtown Web Design Blog">
    <meta name="twitter:description" content="<%= post.metaDescription || post.excerpt || post.title %>">
    <meta name="twitter:image" content="<%= post.featuredImage || 'https://www.fishtownwebdesign.com/public/content/home/fish.png' %>">

    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "<%= post.metaTitle || post.title %>",
        "description": "<%= post.metaDescription || post.excerpt || post.title %>",
        "image": "<%= post.featuredImage || 'https://www.fishtownwebdesign.com/public/content/home/fish.png' %>",
        "publisher": {
            "@type": "Organization",
            "name": "Fishtown Web Design",
            "logo": {
                "@type": "ImageObject",
                "url": "https://www.fishtownwebdesign.com/public/content/home/logo.png"
            }
        },
        "datePublished": "<%= post.publishedAt %>",
        "dateModified": "<%= post.updatedAt || post.publishedAt %>",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https://www.fishtownwebdesign.com/blog/<%= post.slug %>"
        }
    }
    </script>

    <!--CSS Imports-->
    
    <link rel="stylesheet" href="/public/css/post.css">
    <link rel="stylesheet" href="/public/css/core.css">

    <!--Favicons-->
    <link rel="icon" type="image/png" sizes="16x16" href="../public/content/home/favicon_io/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../public/content/home/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../public/content/home/favicon_io/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="../public/content/home/favicon_io/android-chrome-512x512.png">
    <link rel="apple-touch-icon" href="../public/content/home/favicon_io/apple-touch-icon.png">
    <link rel="icon" href="../public/content/home/favicon_io/favicon.ico">

</head>

<body>
    <div class="cs-topper-card">
        <!-- Black Banner at the top -->
        <div class="top-banner">
            NOW ACCEPTING NEW CLIENTS.
        </div>
    </div>


    <!-- ============================================ -->
    <!--                 Navigation                   -->
    <!-- ============================================ -->

    <header id="cs-navigation">
        <div class="cs-container">
            <!--Nav Logo-->
            <a href="https://fishtownwebdesign.com/" class="cs-logo" aria-label="back to home">
                <picture>
                    <source media="(max-width: 600px)" srcset="https://fishtownwebdesign.com/public/content/home/logo-m.webp">
                    <source media="(min-width: 601px)" srcset="https://fishtownwebdesign.com/public/content/home/logo.webp">
                    <img 
                        src="https://fishtownwebdesign.com/public/content/home/logo.png"
                        alt="Fishtown Web Design Logo" 
                        decoding="async"
                        id="logo"
                        width="130px"
                        height="46.29px"
                        fetchpriority="high">
                </picture>
            </a>
            <!--Navigation List-->
            <nav class="cs-nav" role="navigation">
                <!--Mobile Nav Toggle-->
                <button class="cs-toggle" aria-label="mobile menu toggle">
                    <div class="cs-box" aria-hidden="true">
                        <span class="cs-line cs-line1" aria-hidden="true"></span>
                        <span class="cs-line cs-line2" aria-hidden="true"></span>
                        <span class="cs-line cs-line3" aria-hidden="true"></span>
                    </div>
                </button>
                <!-- We need a wrapper div so we can set a fixed height on the cs-ul in case the nav list gets too long from too many dropdowns being opened and needs to have an overflow scroll. This wrapper acts as the background so it can go the full height of the screen and not cut off any overflowing nav items while the cs-ul stops short of the bottom of the screen, which keeps all nav items in view no matter how mnay there are-->
                <div class="cs-ul-wrapper">
                    <ul id="cs-expanded" class="cs-ul" aria-expanded="false">
                        <li class="cs-li">
                            <a href="https://fishtownwebdesign.com/" class="cs-li-link">
                                home
                            </a>
                        </li>
                        <!--Copy and paste this cs-dropdown list item and replace any .cs-li with this cs-dropdown group to make a new dropdown and it will work-->
                        <li class="cs-li cs-dropdown" tabindex="0">
                            <span class="cs-li-link">
                                about
                                <img class="cs-drop-icon" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons%2Fdown.svg" alt="dropdown icon" width="15" height="15" decoding="async" aria-hidden="true">
                            </span>
                            <ul class="cs-drop-ul">
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/about" class="cs-li-link cs-drop-link">about us</a>
                                </li>
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/faq" class="cs-li-link cs-drop-link">faq</a>
                                </li>
                            </ul>
                        </li>
                        <li class="cs-li cs-dropdown" tabindex="0">
                            <span class="cs-li-link">
                                services
                                <img class="cs-drop-icon" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons%2Fdown.svg" alt="dropdown icon" width="15" height="15" decoding="async" aria-hidden="true">
                            </span>
                            <ul class="cs-drop-ul">
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/about" class="cs-li-link cs-drop-link">web design</a>
                                </li>
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/faq" class="cs-li-link cs-drop-link">seo</a>
                                </li>
                            </ul>
                        </li>
                        <li class="cs-li">
                            <a href="https://fishtownwebdesign.com/pricing" class="cs-li-link">
                                pricing
                            </a>
                        </li>
                        <li class="cs-li">
                            <a href="https://fishtownwebdesign.com/contact" class="cs-li-link">
                                contact
                            </a>
                        </li>
                        <li class="cs-li">
                            <a href="https://fishtownwebdesign.com/blog" class="cs-li-link cs-active">
                                blog
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
            <!-- <a href="" class="cs-button-solid cs-nav-button">Contact Us</a> -->
            <!--Dark Mode toggle, uncomment button code if you want to enable a dark mode toggle-->
            <!-- <button id="dark-mode-toggle" aria-label="dark mode toggle">
                <svg class="cs-moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 480" style="enable-background:new 0 0 480 480" xml:space="preserve"><path d="M459.782 347.328c-4.288-5.28-11.488-7.232-17.824-4.96-17.76 6.368-37.024 9.632-57.312 9.632-97.056 0-176-78.976-176-176 0-58.4 28.832-112.768 77.12-145.472 5.472-3.712 8.096-10.4 6.624-16.832S285.638 2.4 279.078 1.44C271.59.352 264.134 0 256.646 0c-132.352 0-240 107.648-240 240s107.648 240 240 240c84 0 160.416-42.688 204.352-114.176 3.552-5.792 3.04-13.184-1.216-18.496z"/></svg>
                <img class="cs-sun" aria-hidden="true" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons%2Fsun.svg" decoding="async" alt="moon" width="15" height="15">
            </button> -->
        </div>
    </header>



    <!-- Main Content Section -->
    <div class="content-wrapper">
        <!-- Text Content -->
        <div class="about-text">
            <div class="blog-content">
                <h1><%= post.title %></h1>
                <% if (post.featuredImage) { %>
                <div class="featured-image">
                    <picture>
                        <source media="(max-width: 600px)" srcset="<%= post.featuredImage.mobile %>">
                        <source media="(min-width: 601px)" srcset="<%= post.featuredImage.desktop %>">
                        <img 
                            src="<%= post.featuredImage.default %>"
                            alt="<%= post.title %>"
                            width="400"
                            height="225"
                            decoding="async">
                    </picture>
                </div>
                <% } %>
                <p><strong>Published:</strong> <%= new Date(new Date(post.publishedDate).getTime() + 24*60*60*1000).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) %></p>
                <div>
                    <% 
                        // Handle both post.content (Blocks) and post.contents (Markdown) for backward compatibility
                        if (post.contents && typeof post.contents === 'string') {
                            // Handle Markdown content
                    %>
                        <div class="blog-markdown-content">
                            <%- md.render(post.contents) %>
                        </div>
                    <% 
                        } else if (post.content && Array.isArray(post.content)) {
                            // Handle Blocks content
                            post.content.forEach(function(item) { 
                    %>
                        <% if (item.type === 'heading') { %>
                            <h<%= item.level %> class="blog-heading"><%= item.children[0].text %></h<%= item.level %>>
                        <% } else if (item.type === 'paragraph') { %>
                            <p class="blog-paragraph">
                                <% item.children.forEach(function(child) { %>
                                    <% if (child.code) { %>
                                        <pre><code><%= child.text %></code></pre>
                                    <% } else { %>
                                        <% if (child.bold) { %><strong><% } %>
                                        <% if (child.italic) { %><em><% } %>
                                        <%= child.text %>
                                        <% if (child.italic) { %></em><% } %>
                                        <% if (child.bold) { %></strong><% } %>
                                    <% } %>
                                <% }); %>
                            </p>
                        <% } else if (item.type === 'list') { %>
                            <% if (item.format === 'ordered') { %>
                                <ol class="blog-list">
                            <% } else { %>
                                <ul class="blog-list">
                            <% } %>
                                <% item.children.forEach(function(listItem) { %>
                                    <li>
                                        <% listItem.children.forEach(function(child) { %>
                                            <% if (child.bold) { %><strong><% } %>
                                            <% if (child.italic) { %><em><% } %>
                                            <%= child.text %>
                                            <% if (child.italic) { %></em><% } %>
                                            <% if (child.bold) { %></strong><% } %>
                                        <% }); %>
                                    </li>
                                <% }); %>
                            <% if (item.format === 'ordered') { %>
                                </ol>
                            <% } else { %>
                                </ul>
                            <% } %>
                        <% } else { %>
                            <p>Unknown type: <%= item.type %></p>
                        <% } %>
                    <% 
                            });
                        } else {
                            // Fallback for unexpected data types
                    %>
                        <p>No content available.</p>
                    <% } %>
                </div>
                <a href="/blog" class="btn btn-primary">Back to blog</a>
            </div>
        </div>
    </div>

    

    <!-- Footer Section -->
    <footer class="footer text-center py-4">
        <p>Â© <span id="current-year"></span> Fishtown Web Design. All rights reserved.</p>
        <picture>
            <source media="(max-width: 600px)" srcset="https://fishtownwebdesign.com/public/content/home/fish-m.webp">
            <source media="(min-width: 601px)" srcset="https://fishtownwebdesign.com/public/content/home/fish.webp">
            <img loading="lazy" src="/public/content/home/fish.png" id="fish" alt="Fishtown Logo">
        </picture>
        <p><a href="https://www.facebook.com/profile.php?id=61570913623739">Facebook</a> | <a href="https://instagram.com/fishtownwebdesign">Instagram</a></p>
        <p><a id="tos" href="https://fishtownwebdesign.com/terms-of-service">Terms Of Service</a><a id="pp" href="https://fishtownwebdesign.com/privacy-policy">Privacy Policy</a></p>
    </footer>

    <script>
        // Update copyright year
        document.getElementById("current-year").textContent = new Date().getFullYear();

        // Mobile navigation
        const CSbody = document.querySelector('body');
        const CSnavbarMenu = document.querySelector('#cs-navigation');
        const CShamburgerMenu = document.querySelector('#cs-navigation .cs-toggle');

        CShamburgerMenu.addEventListener('click', function() {
            CShamburgerMenu.classList.toggle('cs-active');
            CSnavbarMenu.classList.toggle('cs-active');
            CSbody.classList.toggle('cs-open');
            ariaExpanded();
        });

        function ariaExpanded() {
            const csUL = document.querySelector('#cs-expanded');
            const csExpanded = csUL.getAttribute('aria-expanded');
            csUL.setAttribute('aria-expanded', csExpanded === 'false' ? 'true' : 'false');
        }

        // Mobile dropdowns
        const dropDowns = Array.from(document.querySelectorAll('#cs-navigation .cs-dropdown'));
        dropDowns.forEach(item => {
            item.addEventListener('click', () => item.classList.toggle('cs-active'));
        });

        // Category filter toggle
        const categoryToggle = document.querySelector('.category-toggle');
        const categoryList = document.querySelector('.category-list');

        if (categoryToggle && categoryList) {
            categoryToggle.addEventListener('click', function() {
                const isExpanded = categoryList.getAttribute('aria-expanded') === 'true';
                categoryList.setAttribute('aria-expanded', !isExpanded);
                categoryToggle.classList.toggle('cs-active');
            });
        }
    </script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-P9ZFLQPT8E"></script>
    <script async>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-P9ZFLQPT8E');
    </script>
</body>
</html>