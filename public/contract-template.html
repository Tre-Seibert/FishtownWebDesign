<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="https://www.fishtownwebdesign.com/public/content/home/fish.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Fishtown Web Design - Philadelphia Custom Web Design Agency">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.fishtownwebdesign.com/contract">
    <meta name="description" content="Complete and sign your website development contract with Fishtown Web Design. Start your web design subscription today.">
    <meta property="og:title" content="Website Development Contract | Fishtown Web Design">
    <meta property="og:description" content="Complete and sign your website development contract with Fishtown Web Design. Start your web design subscription today.">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Website Development Contract | Fishtown Web Design">
    <meta name="twitter:description" content="Complete and sign your website development contract with Fishtown Web Design. Start your web design subscription today.">
    <meta name="twitter:image" content="https://www.fishtownwebdesign.com/public/content/home/fish.png">
    <meta name="twitter:image:alt" content="Fishtown Web Design - Philadelphia Custom Web Design Agency">
    <link rel="canonical" href="https://www.fishtownwebdesign.com/contract" />

    <title>Website Development Contract | Fishtown Web Design</title>

    <!--CSS Imports-->
    <link rel="stylesheet" href="/public/css/contract-template.css">
    <link rel="stylesheet" href="/public/css/core.css">

    <!--Favicons-->
    <link rel="icon" type="image/png" sizes="16x16" href="/public/content/home/favicon_io/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/public/content/home/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/public/content/home/favicon_io/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/public/content/home/favicon_io/android-chrome-512x512.png">
    <link rel="apple-touch-icon" href="/public/content/home/favicon_io/apple-touch-icon.png">
    <link rel="icon" href="/public/content/home/favicon_io/favicon.ico">

    <style>
        /* ============================================ */
        /*              Welcome Popup Styles            */
        /* ============================================ */
        
        .welcome-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            height: -webkit-fill-available; /* Safari iOS fallback */
            height: 100dvh; /* Modern dynamic viewport height */
            background: rgba(0, 0, 0, 0.75);
            backdrop-filter: blur(4px);
            z-index: 9999;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            padding: 1rem;
            padding-top: 6rem;
            opacity: 1;
            transition: opacity 0.3s ease;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .welcome-overlay.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .welcome-popup {
            background: var(--bg-card);
            border-radius: 1rem;
            max-width: 520px;
            width: 100%;
            max-height: 85vh; /* Fallback */
            max-height: 85dvh; /* Modern dynamic viewport height */
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: popupSlideIn 0.4s ease;
            margin-bottom: 2rem;
        }
        
        @keyframes popupSlideIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .welcome-header {
            background: linear-gradient(135deg, var(--primary) 0%, #e6a63c 100%);
            padding: 1.5rem;
            text-align: center;
            border-radius: 1rem 1rem 0 0;
        }
        
        .welcome-header h2 {
            font-family: "DM Serif Display", serif;
            font-size: clamp(1.5rem, 5vw, 1.75rem);
            color: var(--headerColor);
            margin: 0 0 0.5rem 0;
            line-height: 1.2;
        }
        
        .welcome-header p {
            font-size: 1rem;
            color: var(--headerColor);
            margin: 0;
            opacity: 0.9;
        }
        
        .welcome-content {
            padding: 1.5rem;
        }
        
        .welcome-intro {
            text-align: center;
            margin-bottom: 1.5rem;
            font-size: 1rem;
            color: var(--text-body);
            line-height: 1.6;
        }
        
        .welcome-intro strong {
            color: var(--headerColor);
        }
        
        /* How It Works Steps */
        .how-it-works {
            margin-bottom: 1.5rem;
        }
        
        .how-it-works h3 {
            font-family: "DM Serif Display", serif;
            font-size: 1.125rem;
            color: var(--headerColor);
            margin: 0 0 1rem 0;
            text-align: center;
        }
        
        .step {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            padding: 1rem;
            background: var(--bg-secondary);
            border-radius: 0.5rem;
            align-items: flex-start;
        }
        
        .step:last-child {
            margin-bottom: 0;
        }
        
        .step-number {
            width: 32px;
            height: 32px;
            min-width: 32px;
            background: var(--primary);
            color: var(--headerColor);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.875rem;
        }
        
        .step-content h4 {
            font-size: 0.9375rem;
            font-weight: 600;
            color: var(--headerColor);
            margin: 0 0 0.25rem 0;
        }
        
        .step-content p {
            font-size: 0.875rem;
            color: var(--text-body);
            margin: 0;
            line-height: 1.5;
        }
        
        .step-content a {
            color: black;
            text-decoration: underline;
            font-weight: 500;
        }
        
        .step-content a:hover {
            color: var(--primary-dark);
        }
        
        /* Terms Checkboxes */
        .terms-section {
            margin-bottom: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-light);
        }
        
        .terms-section h3 {
            font-family: "DM Serif Display", serif;
            font-size: 1.125rem;
            color: var(--headerColor);
            margin: 0 0 1rem 0;
            text-align: center;
        }
        
        .term-item {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
            align-items: flex-start;
            cursor: pointer;
        }
        
        .term-item:last-child {
            margin-bottom: 0;
        }
        
        .term-checkbox {
            width: 20px;
            height: 20px;
            min-width: 20px;
            border: 2px solid var(--border-medium);
            border-radius: 4px;
            cursor: pointer;
            appearance: none;
            -webkit-appearance: none;
            background: var(--bg-primary);
            transition: all 0.2s ease;
            position: relative;
        }
        
        .term-checkbox:checked {
            background: var(--primary);
            border-color: var(--primary);
        }
        
        .term-checkbox:checked::after {
            content: "✓";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--headerColor);
            font-size: 12px;
            font-weight: 700;
        }
        
        .term-checkbox:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(248, 200, 130, 0.3);
        }
        
        .term-label {
            font-size: 0.875rem;
            color: var(--text-body);
            line-height: 1.5;
            cursor: pointer;
        }
        
        /* CTA Button */
        .welcome-cta {
            text-align: center;
        }
        
        .welcome-button {
            font-family: Horizon, sans-serif;
            font-size: 1rem;
            font-weight: 700;
            padding: 1rem 2rem;
            background: var(--primary);
            color: var(--headerColor);
            border: none;
            border-radius: 0.5rem;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            transition: all 0.3s ease;
            width: 100%;
            max-width: 300px;
            opacity: 0.5;
            pointer-events: none;
        }
        
        .welcome-button.active {
            opacity: 1;
            pointer-events: auto;
        }
        
        .welcome-button.active:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(248, 200, 130, 0.4);
        }
        
        .welcome-button.active:active {
            transform: translateY(0);
        }

        @media only screen and (min-width: 768px) {
            .welcome-overlay {
                padding-top: 8rem;
                align-items: center;
            }
            
            .welcome-popup {
                max-height: 90vh; /* Fallback */
                max-height: 90dvh; /* Modern dynamic viewport */
                margin-bottom: 0;
            }
        }
        /* Mobile Optimizations */
        @media only screen and (max-width: 480px) {
            .welcome-overlay {
                padding-top: 4rem;
                padding-bottom: 1rem;
            }
            
            .welcome-popup {
                max-height: calc(100vh - 5rem); /* Fallback */
                max-height: calc(100dvh - 5rem); /* Modern dynamic viewport */
                border-radius: 0.75rem;
                margin-bottom: 1rem;
            }
            
            .welcome-header {
                padding: 1.25rem 1rem;
                border-radius: 0.75rem 0.75rem 0 0;
            }
            
            .welcome-content {
                padding: 1.25rem 1rem 1.5rem 1rem;
            }
            
            .step {
                padding: 0.875rem;
            }
            
            .step-number {
                width: 28px;
                height: 28px;
                min-width: 28px;
                font-size: 0.8125rem;
            }
        }
        
        /* Extra safety for Safari iOS address bar */
        @supports (-webkit-touch-callout: none) {
            .welcome-overlay {
                min-height: -webkit-fill-available;
            }
            
            .welcome-popup {
                max-height: 80vh;
            }
            
            @media only screen and (max-width: 480px) {
                .welcome-popup {
                    max-height: calc(100% - 6rem);
                }
            }
        }
    </style>
</head>
<body>
    <!-- ============================================ -->
    <!--              Welcome Popup                   -->
    <!-- ============================================ -->
    
    <div class="welcome-overlay" id="welcome-overlay">
        <div class="welcome-popup">
            <div class="welcome-header">
                <h2>Welcome to Fishtown Web Design</h2>
                <p>Ready to build your online presence today?</p>
            </div>
            
            <div class="welcome-content">
                <p class="welcome-intro">
                    We're excited to work with you! Before we get started, here's a quick overview of <strong>how the process works</strong>.
                </p>
                
                <div class="how-it-works">
                    <h3>How It Works</h3>
                    
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Fill Out the Contract Form</h4>
                            <p>Complete your information on the next page. It only takes a few minutes!</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Sign Securely Online</h4>
                            <p>After submitting, you'll be redirected to DocuSeal, our secure e-signature platform, to sign electronically.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Make Your First Payment</h4>
                            <p>Once signed, you'll be directed to our payment provider to make your first month's payment.</p>
                        </div>
                    </div>
                    
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Complete the Questionnaire</h4>
                            <p>Finally, fill out our <a href="https://fishtownwebdesign.com/questionnaire" target="_blank">Client Questionnaire</a> so we can start building your dream website!</p>
                        </div>
                    </div>
                </div>
                
                <div class="terms-section">
                    <h3>Before We Begin</h3>
                    
                    <label class="term-item">
                        <input type="checkbox" class="term-checkbox" id="term-1">
                        <span class="term-label">I understand that this is a subscription service and I'll be billed monthly or yearly based on my selected plan.</span>
                    </label>
                    
                    <label class="term-item">
                        <input type="checkbox" class="term-checkbox" id="term-2">
                        <span class="term-label">I agree to provide honest and accurate information in the contract form.</span>
                    </label>
                    
                    <label class="term-item">
                        <input type="checkbox" class="term-checkbox" id="term-3">
                        <span class="term-label">I understand that my website development will begin after my first payment is received.</span>
                    </label>

                    <label class="term-item">
                        <input type="checkbox" class="term-checkbox" id="term-4">
                        <span class="term-label">I have read and agree to the <a href="/tos" target="_blank" style="color: #000; text-decoration: underline;">Terms of Service</a> and <a href="/pp" target="_blank" style="color: #000; text-decoration: underline;">Privacy Policy</a>.</span>
                    </label>
                </div>
                
                <div class="welcome-cta">
                    <button class="welcome-button" id="welcome-continue-btn" disabled>
                        Let's Get Started!
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="page-wrapper">

    <!-- ============================================ -->
    <!--                 Top Banner                   -->
    <!-- ============================================ -->

    <div class="cs-topper-card">
        <div class="top-banner">
            NOW ACCEPTING NEW CLIENTS.
        </div>
    </div>

    <!-- ============================================ -->
    <!--                 Navigation                   -->
    <!-- ============================================ -->

    <header id="cs-navigation">
        <div class="cs-container">
            <!--Nav Logo-->
            <a href="https://fishtownwebdesign.com/" class="cs-logo" aria-label="back to home">
                <picture>
                    <source media="(max-width: 600px)" srcset="/public/content/home/logo-m.webp">
                    <source media="(min-width: 601px)" srcset="/public/content/home/logo.webp">
                    <img 
                        src="/public/content/home/logo.png"
                        alt="Fishtown Web Design - Philadelphia Web Design Agency Logo" 
                        decoding="async"
                        id="logo"
                        width="130px"
                        height="46.29px"
                        fetchpriority="high">
                </picture>
            </a>
            <!--Navigation List-->
            <nav class="cs-nav" role="navigation">
                <!--Mobile Nav Toggle-->
                <button class="cs-toggle" aria-label="mobile menu toggle">
                    <div class="cs-box" aria-hidden="true">
                        <span class="cs-line cs-line1" aria-hidden="true"></span>
                        <span class="cs-line cs-line2" aria-hidden="true"></span>
                        <span class="cs-line cs-line3" aria-hidden="true"></span>
                    </div>
                </button>
                <div class="cs-ul-wrapper">
                    <ul id="cs-expanded" class="cs-ul" aria-expanded="false">
                        <li class="cs-li">
                            <a href="https://fishtownwebdesign.com/" class="cs-li-link">
                                home
                            </a>
                        </li>
                        <li class="cs-li cs-dropdown" tabindex="0">
                            <span class="cs-li-link">
                                about
                                <img class="cs-drop-icon" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons%2Fdown.svg" alt="dropdown icon" width="15" height="15" decoding="async" aria-hidden="true">
                            </span>
                            <ul class="cs-drop-ul">
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/about" class="cs-li-link cs-drop-link">about us</a>
                                </li>
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/faq" class="cs-li-link cs-drop-link">faq</a>
                                </li>
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/charity" class="cs-li-link cs-drop-link">charity</a>
                                </li>
                            </ul>
                        </li>
                        <li class="cs-li cs-dropdown" tabindex="0">
                            <span class="cs-li-link">
                                services
                                <img class="cs-drop-icon" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons%2Fdown.svg" alt="dropdown icon" width="15" height="15" decoding="async" aria-hidden="true">
                            </span>
                            <ul class="cs-drop-ul">
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/web-design" class="cs-li-link cs-drop-link">web design</a>
                                </li>
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/seo" class="cs-li-link cs-drop-link">seo</a>
                                </li>
                            </ul>
                        </li>
                        <li class="cs-li cs-dropdown" tabindex="0">
                            <span class="cs-li-link">
                                industries
                                <img class="cs-drop-icon" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons%2Fdown.svg" alt="dropdown icon" width="15" height="15" decoding="async" aria-hidden="true">
                            </span>
                            <ul class="cs-drop-ul">
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/contractor-web-design" class="cs-li-link cs-drop-link">contractors</a>
                                </li>
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/venue-web-design" class="cs-li-link cs-drop-link">venues</a>
                                </li>
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/ecommerce-web-design" class="cs-li-link cs-drop-link">e-commerce</a>
                                </li>
                            </ul>
                        </li>
                        <li class="cs-li cs-dropdown" tabindex="0">
                            <span class="cs-li-link">
                                locations
                                <img class="cs-drop-icon" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons%2Fdown.svg" alt="dropdown icon" width="15" height="15" decoding="async" aria-hidden="true">
                            </span>
                            <ul class="cs-drop-ul">
                                <li class="cs-drop-li">
                                    <a href="https://fishtownwebdesign.com/web-design-lancaster-pa" class="cs-li-link cs-drop-link">lancaster, pa</a>
                                </li>
                            </ul>
                        </li>
                        <li class="cs-li">
                            <a href="https://fishtownwebdesign.com/pricing" class="cs-li-link">
                                pricing
                            </a>
                        </li>
                        <li class="cs-li">
                            <a href="https://fishtownwebdesign.com/contact" class="cs-li-link">
                                contact
                            </a>
                        </li>
                        <li class="cs-li">
                            <a href="https://fishtownwebdesign.com/blog" class="cs-li-link">
                                blog
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

    <!-- ============================================ -->
    <!--                 Contract                     -->
    <!-- ============================================ -->

    <div class="contract-wrapper">
        <!-- Form wrapper -->
        <form id="contract-form" novalidate onsubmit="handleFormSubmit(event)">
            <!-- Navigation Header -->
            <div class="contract-nav">
                <div class="nav-info">
                    <span class="page-indicator">Page <span id="current-page">1</span> of <span id="total-pages">1</span></span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress-fill" style="width: 0%"></div>
                    </div>
                </div>
                <button type="button" class="skip-button" id="skip-button" onclick="goToSignatures()">Skip to Signatures →</button>
                <div class="nav-arrows">
                    <button type="button" class="nav-arrow" id="prev-btn" onclick="changePage(-1)" disabled>‹</button>
                    <button type="button" class="nav-arrow" id="next-btn" onclick="changePage(1)">›</button>
                </div>
            </div>
            
            <!-- Page Container -->
            <div class="page-container">
            <!-- Page 1: Cover Sheet -->
            <div class="contract-page active" data-page="1">
                <h1 class="cover-title">WEBSITE DEVELOPMENT CONTRACT FORM</h1>
                
                <div class="cover-field">
                    <label class="cover-label">Company: <span id="company-required" style="display: none; color: var(--primary);">*</span></label>
                    <input type="text" class="cover-input" id="input-company" name="business_name" placeholder="Enter company name" oninput="updateContractFields(); validateCompanyFields();">
                </div>
                
                <div class="cover-field">
                    <label class="cover-label">Contact Name: <span class="required" style="color: var(--primary);">*</span></label>
                    <input type="text" class="cover-input" id="input-contact" name="client_name" placeholder="Enter your full name" oninput="updateContractFields()">
                </div>
                
                <div class="cover-field">
                    <label class="cover-label">Address: <span class="required" style="color: var(--primary);">*</span></label>
                    <input type="text" class="cover-input" id="input-address" name="business_address" placeholder="Enter address" required oninput="updateContractFields()">
                </div>
                
                <div class="cover-field">
                    <label class="cover-label">Phone: <span class="required" style="color: var(--primary);">*</span></label>
                    <input type="tel" class="cover-input" id="input-phone" name="client_phone" placeholder="(717) 555-1234" oninput="updateContractFields()">
                </div>
                
                <div class="cover-field">
                    <label class="cover-label">E-Mail: <span class="required" style="color: var(--primary);">*</span></label>
                    <input type="email" class="cover-input" id="input-email" name="client_email" placeholder="your.email@example.com" oninput="updateContractFields()">
                </div>
                
                <div class="cover-field">
                    <label class="cover-label">Company Type: <span id="company-type-required" style="display: none; color: var(--primary);">*</span></label>
                    <select class="cover-input" id="input-client-type" name="client_type" onchange="updateContractFields(); validateCompanyFields();">
                        <option value="">Select company type (if applicable)</option>
                        <option value="Limited Liability Company">Limited Liability Company</option>
                        <option value="Corporation">Corporation</option>
                        <option value="Partnership">Partnership</option>
                        <option value="Sole Proprietorship">Sole Proprietorship</option>
                        <option value="Individual">Individual</option>
                    </select>
                </div>
                
                <div class="cover-field">
                    <label class="cover-label">Website Development Services:</label>
                    <ul class="service-list">
                        <li>Initial website development</li>
                        <li>Monthly hosting</li>
                        <li>Basic maintenance & updates</li>
                        <li>Security updates</li>
                    </ul>
                </div>
                
                <div class="cover-field">
                    <label class="cover-label">Plan Type: <span class="required" style="color: var(--primary);">*</span></label>
                    <select class="cover-input" id="plan-type" name="plan_type" onchange="updateServiceFee()">
                        <option value="">Select a plan</option>
                        <option value="monthly">Monthly - $150/month</option>
                        <option value="yearly">Yearly - $1,499/year (Save $300)</option>
                    </select>
                </div>
                
                <div class="cover-field">
                    <label class="cover-label">Service Fee: (Plans are subject to the terms of Section 2.5 herein.)</label>
                    <input type="text" class="cover-input" id="service-fee-display" name="service_fee" value="Select a plan above" readonly style="background: var(--bg-secondary);">
                </div>
                
                <div class="cover-field">
                    <label class="cover-label">Initial Service Term:</label>
                    <input type="text" class="cover-input" name="service_term" value="1 Year" readonly style="background: var(--bg-secondary);">
                </div>
                
                <div class="cover-field">
                    <label class="cover-label">Start Date:</label>
                    <input type="date" class="cover-input" id="start-date" name="start_date" readonly style="background: var(--bg-secondary);">
                </div>
                
                <div class="cover-field">
                    <label class="cover-label">Service Capacity:</label>
                    <ul class="service-list">
                        <li>Up to 10GB storage</li>
                        <li>Additional usage will be billed at standard rates</li>
                    </ul>
                </div>
                
                <!-- Create contract button (page 1) -->
                <div class="submit-block" style="margin-top: 2rem; padding: 1.5rem; background: var(--bg-card); border-radius: 0.5rem; text-align: center;">
                    <p style="margin-bottom: 1rem; color: var(--text-body); font-size: 0.875rem;">
                        By submitting this form, you agree to the terms and conditions outlined in this contract.
                    </p>
                    <button type="submit" class="skip-button submit-button" id="submit-button" style="font-size: 1rem; padding: 1rem 2rem; min-width: 200px;">
                        Submit & Sign Contract
                    </button>
                </div>
            </div>
            
            <!-- Page 2: Agreement Introduction -->
            <div class="contract-page" data-page="2">
                <h2 class="contract-main-title">Website Design Development Agreement</h2>
                
                <div class="contract-intro">
                    <p>THIS DEVELOPMENT OF WEBSITE DESIGN AGREEMENT, dated <strong id="display-effective-date">{{EFFECTIVE_DATE}}</strong> (the "Effective Date"), is between Fishtown Web Design LLC ("Company"), a Pennsylvania Limited Liability Company, and <span id="display-client-intro">{{CLIENT_INTRO}}</span>. Company and Client are sometimes referred to herein collectively as "Parties" and individually as a "Party."</p>
                    
                    <p><strong>B. WHEREAS</strong>, Client desires Company to design a website for Client;</p>
                    
                    <p><strong>NOW THEREFORE</strong>, in consideration of the mutual covenants and promises set forth herein, the Parties agree as follows:</p>
                </div>
                
                <div class="article">
                    <h3 class="article-title">AGREEMENT</h3>
                </div>
                
                <div class="article">
                    <h3 class="article-title">ARTICLE I. DEFINITIONS.</h3>
                    <div class="article-content">
                        <p><strong>"Alpha Version"</strong> means the first test system of Client's Website, which is tested on a computer that is not connected to the Internet.</p>
                        <p><strong>"Agreement"</strong> means this written agreement between Company and Client.</p>
                        <p><strong>"Beta Version"</strong> means the second test system of Client's Website, which is tested through the Internet by Client.</p>
                        <p><strong>"Bug"</strong> means an error in the Website that causes repeated and repeatable malfunctions.</p>
                        <p><strong>"CGI"</strong> or <strong>"Common Gateway Interface"</strong> means the standard method of writing computer code to enable an interactive computer program on one Internet server to communicate with users located at remote Internet servers.</p>
                        <p><strong>"Derivative Work"</strong> means any modifications made to any computer source code, object code, CGI code or HTML code.</p>
                        <p><strong>"Domain Name"</strong> or <strong>"Name"</strong> is the alpha-numeric name associated with Client's Website, Web pages or electronic mail.</p>
                        <p><strong>"Hour"</strong> means one hour spent by one Company developer.</p>
                        <p><strong>"HTML Code"</strong> means hypertext mark-up language, which is the language commonly used for developing the appearance of websites.</p>
                        <p><strong>"Intellectual Property Rights"</strong> means:</p>
                        <ul>
                            <li>Rights in any patent, copyright, trademark, trade dress, and trade name;</li>
                            <li>Related registrations and applications for registration; and</li>
                            <li>Trade secrets, know-how and goodwill.</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Page 3: Definitions Continued & Website Development -->
            <div class="contract-page" data-page="3">
                <div class="article">
                    <h3 class="article-title">ARTICLE I. DEFINITIONS (continued)</h3>
                    <div class="article-content">
                        <p><strong>"Internet"</strong> means the global computer network comprising interconnected networks using standard Protocols.</p>
                        <p><strong>"Internet Service Provider"</strong> or <strong>"ISP"</strong> means an entity that enables the uploading and downloading of data between remote computers and the Internet.</p>
                        <p><strong>"Project Manager"</strong> means one of Client's employees, as may be designed by Client from time to time, who shall be deemed as Client's liaison with Company, and who shall have the power to act as Client's project manager in order to make ongoing decisions under this Agreement which are binding upon Client.</p>
                        <p><strong>"Protocols"</strong> means a set of rules that regulate the way data is transmitted between computers and includes the TCP/IP protocols.</p>
                        <p><strong>"Web page"</strong> means each individual screen display contained in Client's Website and may consist of more than one data file.</p>
                        <p><strong>"Website"</strong> means all Web pages and domain names associated with Client and its products or services, and which are stored on Company's server.</p>
                        <p><strong>"Website Hosting Service Provider"</strong> or <strong>"Web host"</strong> means an entity that stores third-party websites on its server, receives or stores commands or data transmitted by Internet users, transmits web page data to users' Internet addresses, and performs related maintenance.</p>
                        <p><strong>"World Wide Web"</strong> or <strong>"WWW"</strong> is a subset of the Internet, and is a common system for browsing Internet websites.</p>
                    </div>
                </div>
                
                <div class="article">
                    <h3 class="article-title">ARTICLE II. WEBSITE DEVELOPMENT.</h3>
                    <div class="article-content">
                        <p><strong>2.1. Design.</strong></p>
                        <p><strong>Client Questionnaire.</strong> The Company's process begins with providing the Client a comprehensive questionnaire designed to gather all necessary information required to build the Client's website. This questionnaire covers details such as desired functionality, design preferences, and specific content requirements.</p>
                        <p><strong>Design Mockup and Revisions.</strong> Based on the Client's responses to the questionnaire, the Company will create an initial design mockup. The Client will review this mockup and provide feedback with suggested changes. The Company will revise the design accordingly and present the updated mockup to the Client. This back-and-forth revision process will continue until both the Client and the Company are satisfied with the design.</p>
                        <p><strong>Final Design Approval.</strong> Once both the Client and the Company agree on the design, the Client must provide formal approval of the final design mockup. This approval signifies that the design phase is complete and ready for development.</p>
                    </div>
                </div>
            </div>
            
            <!-- Page 4: Development Continued -->
            <div class="contract-page" data-page="4">
                <div class="article">
                    <h3 class="article-title">ARTICLE II. WEBSITE DEVELOPMENT (continued)</h3>
                    <div class="article-content">
                        <p><strong>2.2. Coding.</strong></p>
                        <p><strong>Method.</strong> Upon receiving the Client's formal approval of the final design mockup, the Company will proceed with website development in accordance with the approved design specifications.</p>
                        <p><strong>Project Management.</strong> The Parties recognize that Client's participation in all phases of the development of the Website is essential. As such, Project Manager shall use his/her best efforts to complete the project on schedule.</p>
                        <p><strong>2.3. Schedule.</strong></p>
                        <p><strong>Alpha Version.</strong> Company shall provide an Alpha Version of Client's Website for Client's testing at Company's facilities within thirty (30) days after the final design approval. Client shall perform complete testing of all aspects of the Alpha Version within ten (10) days after Company's provision of the Alpha Version. CLIENT EXPRESSLY WAIVES ANY RIGHT TO REVOKE ACCEPTANCE.</p>
                        <p><strong>Beta Version.</strong> Company shall host on its Internet server the Beta Version of Client's Website for Client's testing over the Internet within fifteen (15) days after Client's acceptance of the Alpha Version. Client shall perform complete testing of all aspects of the Beta Version within ten (10) days after Company's provision of the Beta Version. CLIENT EXPRESSLY WAIVES ANY RIGHT TO REVOKE ACCEPTANCE.</p>
                        <p><strong>Final Version.</strong> Company shall deliver Client's completed Website within ten (10) days after Client's Final Acceptance of the Beta Version.</p>
                        <p><strong>2.4. Deliverables.</strong> Company's delivery of Client's Final Version shall consist of Company's posting of Client's Website to Company's Internet server.</p>
                        <p><strong>2.5. Fees and Payment.</strong> Service Fee shall be delivered by Client to Company contemporaneously with Client's endorsement of this Agreement upon signing, and pay to Company the Service Fee stated on the cover sheet to this Agreement (<span id="display-service-fee">{{SERVICE_FEE}}</span>), beginning on the date of the execution of this Agreement and <span id="display-payment-frequency">continuing thereafter on the first day of each month during the term of this Agreement</span>. Additional fees shall be paid by Client to Company for other services.</p>
                    </div>
                </div>
            </div>
            
            <!-- Page 5: Modifications & Intellectual Property -->
            <div class="contract-page" data-page="5">
                <div class="article">
                    <h3 class="article-title">ARTICLE II. WEBSITE DEVELOPMENT (continued)</h3>
                    <div class="article-content">
                        <p><strong>2.6. Modifications Subsequent to Final Acceptance.</strong></p>
                        <p>After Final Acceptance, Client may desire to modify the Website. Client shall submit its desired modifications in writing to Company. For a period of two (2) to twelve (12) months following Final Acceptance, Company shall make necessary and reasonable modifications to Client's Website.</p>
                        <p><strong>Additional Fees:</strong></p>
                        <ul>
                            <li><strong>Content Changes:</strong> Unlimited content changes at no additional charge (changes taking one hour or less). Requests involving redesign or significant modifications will incur a fee of $150.00 per hour.</li>
                            <li><strong>Additional Pages:</strong> $100.00 per page beyond the initial five pages (one-time charge). Blog pages are excluded from this charge.</li>
                            <li><strong>Blog:</strong> Available for a one-time charge of $250.00.</li>
                            <li><strong>Bug Fixes:</strong> Provided at no additional charge until the bug is resolved.</li>
                        </ul>
                        <p><strong>2.7. Copyright and Intellectual Property Ownership.</strong></p>
                        <p>Company shall be deemed the sole author and owner of all CGI, HTML Code, graphics and data, and their attendant Intellectual Property Rights, that are incorporated into the Website. Company hereby grants, assigns and otherwise transfers non-exclusively and in perpetuity to Client, its successors and its assigns, the right to reproduce the Website, to prepare derivative works therefrom, to publicly perform or to publicly display the Website.</p>
                        <p>Client shall be deemed the author and owner of Client's Domain Name and its attendant Intellectual Property Rights, and any graphics or data provided by Client that are incorporated into the Website.</p>
                    </div>
                </div>
            </div>
            
            <!-- Page 6: Warranties & Disclaimers -->
            <div class="contract-page" data-page="6">
                <div class="article">
                    <h3 class="article-title">ARTICLE III. WARRANTIES.</h3>
                    <div class="article-content">
                        <p>Company confirms and warrants that:</p>
                        <p><strong>3.1.</strong> Company has the right to enter into this Agreement and to grant the rights granted in it.</p>
                        <p><strong>3.2.</strong> Company shall, in good faith, comply with the terms of this Agreement.</p>
                        <p><strong>3.3.</strong> Company is the sole creator of any Websites designed by Company, except for those graphics and data supplied by Client. The Website shall be prepared in a workmanlike manner, and will function in conjunction with properly configured web browsers including, but not limited to, Chrome, Safari, Edge, and Firefox.</p>
                    </div>
                </div>
                
                <div class="article">
                    <h3 class="article-title">ARTICLE IV. DISCLAIMERS.</h3>
                    <div class="article-content">
                        <p><strong>4.1. Warranty Disclaimer.</strong> The goods and services provided by Company are provided "AS IS", WITHOUT WARRANTY OF ANY KIND TO CLIENT OR ANY THIRD PARTY, INCLUDING, BUT NOT LIMITED TO, ANY EXPRESS OR IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, QUALITY, ACCURACY, NON-INFRINGEMENT, QUIET ENJOYMENT, TITLE, MARKETABILITY, PROFITABILITY, OR SUITABILITY.</p>
                        <p><strong>4.2. Limitation of Liability.</strong> CLIENT FURTHER AGREES THAT COMPANY SHALL NOT BE LIABLE TO CLIENT OR ANY THIRD PARTY FOR ANY LOSS OF PROFITS, LOSS OF USE, INTERRUPTION OF BUSINESS, OR ANY DIRECT, INDIRECT, INCIDENTAL OR CONSEQUENTIAL DAMAGES OF ANY KIND WHETHER UNDER THIS AGREEMENT OR OTHERWISE, EVEN IF COMPANY WAS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES OR WAS GROSSLY NEGLIGENT.</p>
                        <p>Some jurisdictions do not permit the exclusion or limitation of liability for consequential or incidental damages, and, as such, some portion of the above limitation may not apply to Client. In such jurisdictions, Company's liability is limited to the greatest extent permitted by law.</p>
                    </div>
                </div>
            </div>
            
            <!-- Page 7: Termination & Other Terms -->
            <div class="contract-page" data-page="7">
                <div class="article">
                    <h3 class="article-title">ARTICLE V. TERMINATION.</h3>
                    <div class="article-content">
                        <p><strong>5.1. Termination by Company.</strong></p>
                        <p>Company reserves the right to terminate any and all services to Client for no cause and without any reason upon thirty (30) days' notice. Company reserves the right to cancel this Agreement and terminate any and all services to Client immediately, and without prior notice, in the event that Client fails to fulfill any material obligation contained in this Agreement.</p>
                        <p><strong>Refunds.</strong> Under no circumstances will Client be entitled to a refund of payments made; provided, however, that the Company reserves to itself the sole and exclusive discretion to provide refunds to Clients on a case-by-case basis.</p>
                        <p><strong>5.2. Post-Termination Rights.</strong> After termination by any party for any reason, Company shall retain the right to recover all accrued charges due and owing by Client to Company through the date of termination.</p>
                    </div>
                </div>
                
                <div class="article">
                    <h3 class="article-title">ARTICLE VI - XX. ADDITIONAL TERMS.</h3>
                    <div class="article-content">
                        <p><strong>Confidentiality:</strong> Both Parties agree to keep confidential information in strict confidence and only use it for purposes of performing obligations under this Agreement.</p>
                        <p><strong>Arbitration:</strong> Any dispute concerning the Parties' duties under this Agreement which cannot be resolved within thirty (30) days shall be directed to binding arbitration administered by the American Arbitration Association in the County of Lancaster, State of Pennsylvania.</p>
                        <p><strong>Governing Law:</strong> This Agreement shall be governed by the laws of the State of Pennsylvania, and venue and jurisdiction for any litigation shall lie in the County of Lancaster, State of Pennsylvania.</p>
                        <p><strong>Entire Agreement:</strong> This Agreement supersedes any and all other agreements between the Parties and may be amended or modified only in writing.</p>
                        <p><strong>Assignment:</strong> This Agreement may not be assigned or transferred by either Party without the prior written consent of the other Party.</p>
                        <p><strong>Authority:</strong> The Parties knowingly and expressly consent to the foregoing terms and conditions. Each signatory is authorized to enter into this Agreement on behalf of its respective Party.</p>
                    </div>
                </div>
                
                <!-- Signatures - hidden on form, shown only in DocuSeal -->
                <div class="signature-section" style="display: none; margin-top: 2rem;">
                    <div class="signature-block">
                        <p class="signature-label"><strong>Fishtown Web Design LLC</strong></p>
                        <p class="signature-label">Signed:</p>
                        <div class="signature-field company-signature">
                            <img src="/public/content/contract/George Seibert.png" alt="George Seibert Signature" class="signature-image" onerror="this.style.display='none'; this.parentElement.querySelector('.signature-placeholder').style.display='block';">
                            <p class="signature-placeholder" style="display: none;">Company signature</p>
                        </div>
                        <p class="signature-label" style="font-size: 0.8125rem; margin-bottom: 0.5rem;">Printed Name: George Seibert</p>
                        <p class="signature-label" style="font-size: 0.8125rem; margin-bottom: 0.5rem;">Title: Founder</p>
                        <p class="signature-label" style="font-size: 0.8125rem; margin-bottom: 0;">Date: <input type="text" class="signature-input" id="signature-date-company" name="company_signature_date" value="" readonly style="max-width: 200px; font-size: 0.875rem; padding: 0.5rem;"></p>
                    </div>
                    
                    <div class="signature-block">
                        <p class="signature-label"><strong>Client</strong></p>
                        <p class="signature-label">Signed:</p>
                        <div class="signature-field client-signature" id="client-signature-field" style="padding: 1rem; min-height: 150px; display: flex; align-items: center; justify-content: center;">
                            <signature-field 
                                name="Client Signature" 
                                role="First Party"
                                format="drawn_or_typed"
                                required="true"
                                style="width: 100%; max-width: 400px; min-height: 120px; border: 2px dashed var(--primary); border-radius: 0.25rem; display: block; margin: 0 auto;">
                            </signature-field>
                        </div>
                        <p class="signature-label" style="font-size: 0.8125rem; margin-bottom: 0.5rem; margin-top: 1rem;">Printed Name: <span class="required" style="color: var(--primary);">*</span>
                            <text-field 
                                name="Client Printed Name" 
                                role="First Party"
                                required="true"
                                style="width: 200px; max-width: 200px; font-size: 0.875rem; padding: 0.5rem; border: 1px solid var(--border-medium); border-radius: 0.25rem; display: inline-block;">
                            </text-field>
                        </p>
                        <p class="signature-label" style="font-size: 0.8125rem; margin-bottom: 0;">Date: <span class="required" style="color: var(--primary);">*</span>
                            <date-field 
                                name="Client Signature Date" 
                                role="First Party"
                                required="true"
                                style="width: 200px; max-width: 200px; font-size: 0.875rem; padding: 0.5rem; border: 1px solid var(--border-medium); border-radius: 0.25rem; display: inline-block;">
                            </date-field>
                        </p>
                    </div>
                    
                    <div class="version-info">Page 14 of 14<br>V1.02</div>
                </div>
                
                <!-- Create contract button (page 7) -->
                <div class="submit-block" style="margin-top: 2rem; padding: 1.5rem; background: var(--bg-card); border-radius: 0.5rem; text-align: center;">
                    <p style="margin-bottom: 1rem; color: var(--text-body); font-size: 0.875rem;">
                        By submitting this form, you agree to the terms and conditions outlined in this contract.
                    </p>
                    <button type="submit" class="skip-button submit-button" style="font-size: 1rem; padding: 1rem 2rem; min-width: 200px;">
                        Submit & Sign Contract
                    </button>
                </div>
            </div>
        </div>
        <div id="form-message" style="margin: 1rem; display: none; padding: 0.75rem; border-radius: 0.25rem;"></div>
        </form>
    </div>
    
    <script>
        let currentPage = 1;
        const totalPages = document.querySelectorAll('.contract-page').length;
        
        // Initialize
        document.getElementById('total-pages').textContent = totalPages;
        updateNavigation();
        initializeDates();
        validateCompanyFields(); // Initialize company field validation
        
        // Initialize dates on page load
        function initializeDates() {
            const currentDate = new Date().toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            const todayISO = new Date().toISOString().split('T')[0];
            
            // Set effective date
            const effectiveDateEl = document.getElementById('display-effective-date');
            if (effectiveDateEl) {
                effectiveDateEl.textContent = currentDate;
            }
            
            // Set company signature date (readonly, auto-filled)
            const companyDateEl = document.getElementById('signature-date-company');
            if (companyDateEl) companyDateEl.value = currentDate;
            
            // Set start date to today (readonly, auto-filled)
            const startDateEl = document.getElementById('start-date');
            if (startDateEl) {
                startDateEl.value = todayISO;
            }
            
            // Set client signature date to today
            const clientSignatureDateEl = document.getElementById('client-signature-date');
            if (clientSignatureDateEl) {
                clientSignatureDateEl.value = todayISO;
            }
        }
        
        // Update service fee display based on plan type
        function updateServiceFee() {
            const planType = document.getElementById('plan-type')?.value;
            const feeDisplay = document.getElementById('service-fee-display');
            const feeInContract = document.getElementById('display-service-fee');
            const frequencyInContract = document.getElementById('display-payment-frequency');
            
            let feeText = 'Select a plan above';
            let shortFee = '{{SERVICE_FEE}}';
            let frequencyText = 'continuing thereafter on the first day of each month during the term of this Agreement. subject to the terms of Section 2.5 herein.';
            
            if (planType === 'monthly') {
                feeText = '$150.00/month, due on the first day of each month.';
                shortFee = '$150.00 per month';
                frequencyText = 'continuing thereafter on the first day of each month during the term of this Agreement';
            } else if (planType === 'yearly') {
                feeText = '$1,499.00/year, due on annual anniversary of this Agreement.';
                shortFee = '$1,499.00 per year';
                frequencyText = 'continuing thereafter on each annual anniversary of this Agreement';
            }
            
            if (feeDisplay) feeDisplay.value = feeText;
            if (feeInContract) feeInContract.textContent = shortFee;
            if (frequencyInContract) frequencyInContract.textContent = frequencyText;
        }
        
        
        // Validate company name and company type relationship
        function validateCompanyFields() {
            const companyName = document.getElementById('input-company')?.value?.trim() || '';
            const companyType = document.getElementById('input-client-type')?.value?.trim() || '';
            const companyRequired = document.getElementById('company-required');
            const companyTypeRequired = document.getElementById('company-type-required');
            const companyInput = document.getElementById('input-company');
            const companyTypeSelect = document.getElementById('input-client-type');
            
            // If either is filled, the other becomes required
            if (companyName || companyType) {
                if (companyRequired) companyRequired.style.display = 'inline';
                if (companyTypeRequired) companyTypeRequired.style.display = 'inline';
                if (companyInput) companyInput.setAttribute('required', 'required');
                if (companyTypeSelect) companyTypeSelect.setAttribute('required', 'required');
            } else {
                if (companyRequired) companyRequired.style.display = 'none';
                if (companyTypeRequired) companyTypeRequired.style.display = 'none';
                if (companyInput) companyInput.removeAttribute('required');
                if (companyTypeSelect) companyTypeSelect.removeAttribute('required');
            }
        }
        
        // Update contract fields dynamically
        // Note: This function only works when viewing the template directly
        // DocuSeal converts HTML to PDF, so this won't run in the signing interface
        function updateContractFields() {
            // Get values from input fields
            const contactName = document.getElementById('input-contact')?.value || '';
            const companyName = document.getElementById('input-company')?.value || '';
            const companyType = document.getElementById('input-client-type')?.value || '';
            
            // Determine if this is a business or individual client
            const isBusiness = companyName.trim() !== '' || companyType.trim() !== '';
            
            // Build client introduction text based on whether it's a business or individual
            let clientIntro = '';
            if (isBusiness) {
                // Business client
                if (companyName && companyType) {
                    clientIntro = `<strong>${companyName}</strong> ("Client"), a Pennsylvania ${companyType}`;
                } else if (companyName) {
                    clientIntro = `<strong>${companyName}</strong> ("Client"), a Pennsylvania entity`;
                } else if (companyType) {
                    clientIntro = `<strong>${contactName || ''}</strong> ("Client"), a Pennsylvania ${companyType}`;
                } else {
                    clientIntro = `<strong>${contactName || ''}</strong> ("Client"), a Pennsylvania entity`;
                }
            } else {
                // Individual client
                clientIntro = `<strong>${contactName || ''}</strong> ("Client"), an individual`;
            }
            
            // Update client introduction display in agreement text
            const clientIntroDisplay = document.getElementById('display-client-intro');
            if (clientIntroDisplay && clientIntro) {
                clientIntroDisplay.innerHTML = clientIntro;
            }
        }
        
        function changePage(direction) {
            const newPage = currentPage + direction;
            if (newPage < 1 || newPage > totalPages) return;
            
            // Hide current page
            document.querySelector(`.contract-page[data-page="${currentPage}"]`).classList.remove('active');
            
            // Show new page
            currentPage = newPage;
            document.querySelector(`.contract-page[data-page="${currentPage}"]`).classList.add('active');
            
            updateNavigation();
            scrollToTop();
        }
        
        function goToSignatures() {
            // Go to last page (page 7) and scroll to the submit button at the bottom
            const lastPage = totalPages;
            if (currentPage === lastPage) {
                // Already on last page, just scroll to submit
                const submitBlock = document.querySelector('.contract-page[data-page="7"] .submit-block');
                if (submitBlock) submitBlock.scrollIntoView({ behavior: 'smooth', block: 'center' });
                return;
            }
            document.querySelector(`.contract-page[data-page="${currentPage}"]`).classList.remove('active');
            currentPage = lastPage;
            document.querySelector(`.contract-page[data-page="${currentPage}"]`).classList.add('active');
            updateNavigation();
            setTimeout(() => {
                const submitBlock = document.querySelector('.contract-page[data-page="7"] .submit-block');
                if (submitBlock) submitBlock.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
        }
        
        
        function updateNavigation() {
            document.getElementById('current-page').textContent = currentPage;
            
            // Update progress bar
            const progress = (currentPage / totalPages) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
            
            // Update arrow buttons
            document.getElementById('prev-btn').disabled = currentPage === 1;
            document.getElementById('next-btn').disabled = currentPage === totalPages;
            
            // Hide skip button on last page
            const skipButton = document.getElementById('skip-button');
            if (skipButton) {
                skipButton.style.display = currentPage === totalPages ? 'none' : 'block';
            }
        }
        
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft') {
                changePage(-1);
            } else if (e.key === 'ArrowRight') {
                changePage(1);
            }
        });
        
        // Handle form submission
        async function handleFormSubmit(event) {
            console.log('[CONTRACT] Form submission started');
            event.preventDefault();
            event.stopPropagation();
            
            const form = document.getElementById('contract-form');
            const submitButtons = document.querySelectorAll('.submit-button');
            const messageDiv = document.getElementById('form-message');
            
            // Remove any remaining required attributes to prevent HTML5 validation
            const allRequiredFields = form.querySelectorAll('[required]');
            console.log('[CONTRACT] Found', allRequiredFields.length, 'fields with required attribute');
            allRequiredFields.forEach(field => {
                field.removeAttribute('required');
            });
            
            // Validate required fields
            const requiredFields = {
                client_name: document.getElementById('input-contact')?.value,
                client_email: document.getElementById('input-email')?.value,
                client_phone: document.getElementById('input-phone')?.value,
                business_address: document.getElementById('input-address')?.value,
                plan_type: document.getElementById('plan-type')?.value
            };
            
            const companyName = document.getElementById('input-company')?.value?.trim() || '';
            const companyType = document.getElementById('input-client-type')?.value?.trim() || '';
            
            console.log('[CONTRACT] Field validation:', {
                client_name: requiredFields.client_name ? '✓' : '✗',
                client_email: requiredFields.client_email ? '✓' : '✗',
                client_phone: requiredFields.client_phone ? '✓' : '✗',
                business_address: requiredFields.business_address ? '✓' : '✗',
                plan_type: requiredFields.plan_type ? '✓' : '✗',
                company_name: companyName ? '✓' : '✗',
                company_type: companyType ? '✓' : '✗'
            });
            
            // Check for missing required fields
            const missingFields = [];
            if (!requiredFields.client_name || requiredFields.client_name.trim() === '') {
                missingFields.push('Contact Name');
            }
            if (!requiredFields.client_email || requiredFields.client_email.trim() === '') {
                missingFields.push('Email');
            }
            if (!requiredFields.client_phone || requiredFields.client_phone.trim() === '') {
                missingFields.push('Phone');
            }
            if (!requiredFields.business_address || requiredFields.business_address.trim() === '') {
                missingFields.push('Address');
            }
            if (!requiredFields.plan_type) {
                missingFields.push('Plan Type');
            }
            
            // Validate company name and company type relationship
            if (companyName && !companyType) {
                missingFields.push('Company Type (required when Company Name is provided)');
            }
            if (companyType && !companyName) {
                missingFields.push('Company Name (required when Company Type is selected)');
            }
            
            if (missingFields.length > 0) {
                console.warn('[CONTRACT] Validation failed - missing fields:', missingFields);
                showMessage('Please fill in all required fields: ' + missingFields.join(', '), 'error');
                // Go to first page to show missing fields
                currentPage = 1;
                document.querySelectorAll('.contract-page').forEach(page => page.classList.remove('active'));
                document.querySelector('.contract-page[data-page="1"]')?.classList.add('active');
                updateNavigation();
                scrollToTop();
                return;
            }
            
            // Disable all submit buttons and show loading
            submitButtons.forEach(btn => { btn.disabled = true; btn.textContent = 'Creating Contract...'; });
            if (messageDiv) messageDiv.style.display = 'none';
            
            try {
                // Collect form data
                const formData = new FormData(form);
                const data = {
                    subscriptionId: 'sub-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9),
                    client_name: formData.get('client_name'),
                    client_email: formData.get('client_email'),
                    client_phone: formData.get('client_phone'),
                    business_name: formData.get('business_name') || '',
                    business_address: formData.get('business_address') || '',
                    client_type: formData.get('client_type') || '',
                    plan_type: formData.get('plan_type'),
                    start_date: formData.get('start_date') || null
                };
                
                console.log('[CONTRACT] Submitting data to server:', {
                    subscriptionId: data.subscriptionId,
                    client_name: data.client_name,
                    client_email: data.client_email,
                    client_phone: data.client_phone ? '***' : null,
                    plan_type: data.plan_type,
                    has_business_name: !!data.business_name,
                    has_start_date: !!data.start_date
                });
                
                const requestStartTime = Date.now();
                
                // Submit to server
                const response = await fetch('/api/purchase/create-contract', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                
                const requestDuration = Date.now() - requestStartTime;
                console.log('[CONTRACT] Server response received:', {
                    status: response.status,
                    statusText: response.statusText,
                    duration: requestDuration + 'ms',
                    contentType: response.headers.get('content-type')
                });
                
                // Read response body once (can only be read once)
                let responseText;
                try {
                    responseText = await response.text();
                    console.log('[CONTRACT] Response text length:', responseText.length, 'chars');
                } catch (e) {
                    console.error('[CONTRACT] Failed to read response text:', e);
                    showMessage('Failed to read server response. Please try again.', 'error');
                    submitButtons.forEach(btn => { btn.disabled = false; btn.textContent = 'Submit & Sign Contract'; });
                    return;
                }
                
                // Check if response is OK
                if (!response.ok) {
                    console.error('[CONTRACT] Server returned error status:', response.status);
                    // Try to parse error response as JSON
                    let errorMessage = 'Failed to create contract. Please try again.';
                    let errorDetails = null;
                    try {
                        const errorData = JSON.parse(responseText);
                        errorMessage = errorData.message || errorMessage;
                        errorDetails = errorData;
                        console.error('[CONTRACT] Error response data:', errorData);
                    } catch (e) {
                        // If response is not JSON, use status text
                        console.error('[CONTRACT] Non-JSON error response:', responseText.substring(0, 200));
                        errorMessage = `Server error (${response.status}): ${response.statusText || 'Please try again later.'}`;
                    }
                    showMessage(errorMessage, 'error');
                    submitButtons.forEach(btn => { btn.disabled = false; btn.textContent = 'Submit & Sign Contract'; });
                    return;
                }
                
                // Parse JSON response (we already have the text)
                let result;
                try {
                    result = JSON.parse(responseText);
                    console.log('[CONTRACT] Parsed response:', {
                        success: result.success,
                        hasSigningUrl: !!result.signingUrl,
                        submissionId: result.submissionId,
                        message: result.message
                    });
                } catch (e) {
                    console.error('[CONTRACT] Failed to parse JSON response:', e);
                    console.error('[CONTRACT] Response text was:', responseText.substring(0, 500));
                    showMessage('Invalid response from server. Please try again or contact support.', 'error');
                    submitButtons.forEach(btn => { btn.disabled = false; btn.textContent = 'Submit & Sign Contract'; });
                    return;
                }
                
                if (result.success && result.signingUrl) {
                    console.log('[CONTRACT] Success! Redirecting to signing page');
                    window.location.href = result.signingUrl;
                    return;
                } else {
                    console.warn('[CONTRACT] Response indicates failure:', result);
                    showMessage(result.message || 'Failed to create contract. Please try again.', 'error');
                    submitButtons.forEach(btn => { btn.disabled = false; btn.textContent = 'Submit & Sign Contract'; });
                }
            } catch (error) {
                console.error('[CONTRACT] Form submission error:', error);
                console.error('[CONTRACT] Error details:', {
                    name: error.name,
                    message: error.message,
                    stack: error.stack?.substring(0, 500)
                });
                let errorMessage = 'An error occurred. Please try again or contact support.';
                if (error.name === 'TypeError' && error.message.includes('fetch')) {
                    errorMessage = 'Network error. Please check your connection and try again.';
                } else if (error.message) {
                    errorMessage = `Error: ${error.message}`;
                }
                    showMessage(errorMessage, 'error');
                    submitButtons.forEach(btn => { btn.disabled = false; btn.textContent = 'Submit & Sign Contract'; });
                }
        }
        
        // Show message to user
        function showMessage(message, type) {
            const messageDiv = document.getElementById('form-message');
            if (!messageDiv) return;
            
            messageDiv.innerHTML = ''; // Clear any previous HTML
            messageDiv.textContent = message;
            messageDiv.style.display = 'block';
            
            if (type === 'success') {
                messageDiv.style.backgroundColor = '#d4edda';
                messageDiv.style.color = '#155724';
                messageDiv.style.border = '1px solid #c3e6cb';
            } else {
                messageDiv.style.backgroundColor = '#f8d7da';
                messageDiv.style.color = '#721c24';
                messageDiv.style.border = '1px solid #f5c6cb';
            }
            
            // Scroll to message
            messageDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        // ============================================
        // Welcome Popup Functionality
        // ============================================
        
        (function initWelcomePopup() {
            const overlay = document.getElementById('welcome-overlay');
            const continueBtn = document.getElementById('welcome-continue-btn');
            const checkboxes = document.querySelectorAll('.term-checkbox');
            
            // Check all checkboxes to enable button
            function updateButtonState() {
                const allChecked = Array.from(checkboxes).every(cb => cb.checked);
                if (allChecked) {
                    continueBtn.classList.add('active');
                    continueBtn.disabled = false;
                } else {
                    continueBtn.classList.remove('active');
                    continueBtn.disabled = true;
                }
            }
            
            // Add listeners to checkboxes
            checkboxes.forEach(cb => {
                cb.addEventListener('change', updateButtonState);
            });
            
            // Continue button click
            continueBtn.addEventListener('click', function() {
                if (this.disabled) return;
                
                // Hide popup with animation
                overlay.classList.add('hidden');
                setTimeout(() => overlay.style.display = 'none', 300);
            });
            
            // Prevent closing by clicking overlay (user must agree to terms)
            overlay.addEventListener('click', function(e) {
                if (e.target === overlay) {
                    // Subtle shake animation to indicate they need to check boxes
                    const popup = overlay.querySelector('.welcome-popup');
                    popup.style.animation = 'none';
                    popup.offsetHeight; // Trigger reflow
                    popup.style.animation = 'popupShake 0.5s ease';
                }
            });
        })();
        
        // Add shake animation for when user tries to dismiss without agreeing
        const shakeStyle = document.createElement('style');
        shakeStyle.textContent = `
            @keyframes popupShake {
                0%, 100% { transform: translateX(0); }
                10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                20%, 40%, 60%, 80% { transform: translateX(5px); }
            }
        `;
        document.head.appendChild(shakeStyle);
        
        // Show success message with payment and signing buttons
        function showSuccessWithPayment(signingUrl, paymentUrl) {
            const messageDiv = document.getElementById('form-message');
            if (!messageDiv) return;
            
            messageDiv.style.backgroundColor = '#d4edda';
            messageDiv.style.color = '#155724';
            messageDiv.style.border = '1px solid #c3e6cb';
            messageDiv.style.padding = '1.5rem';
            messageDiv.style.display = 'block';
            
            const paymentUrlFinal = paymentUrl || 'https://square.link/u/xTet1TLc';
            
            messageDiv.innerHTML = `
                <div style="text-align: center;">
                    <p style="margin: 0 0 1rem 0; font-weight: 600; font-size: 1.1rem;">Contract created successfully!</p>
                    <p style="margin: 0 0 1.5rem 0;">Next steps:</p>
                    <div style="display: flex; flex-direction: column; gap: 1rem; align-items: center;">
                        <a href="${signingUrl}" 
                           target="_blank"
                           style="
                               display: inline-block;
                               font-size: 18px;
                               line-height: 48px;
                               height: 48px;
                               color: #ffffff;
                               min-width: 212px;
                               background-color: #155724;
                               text-align: center;
                               box-shadow: 0 0 0 1px rgba(0,0,0,.1) inset;
                               border-radius: 6px;
                               text-decoration: none;
                               padding: 0 20px;
                           ">Sign Contract</a>
                        <a href="${paymentUrlFinal}?src=embed" 
                           target="_blank" 
                           id="payment-button"
                           style="
                               display: inline-block;
                               font-size: 18px;
                               line-height: 48px;
                               height: 48px;
                               color: #ffffff;
                               min-width: 212px;
                               background-color: #006aff;
                               text-align: center;
                               box-shadow: 0 0 0 1px rgba(0,0,0,.1) inset;
                               border-radius: 6px;
                               text-decoration: none;
                               padding: 0 20px;
                           ">Pay Now</a>
                    </div>
                </div>
            `;
            
            // Add click handler for payment button to open in modal
            const paymentButton = document.getElementById('payment-button');
            if (paymentButton) {
                paymentButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    showCheckoutWindow(e, paymentUrlFinal);
                });
            }
            
            // Scroll to message
            messageDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
        
        // Function to show checkout window (from Square embed code)
        function showCheckoutWindow(e, url) {
            e.preventDefault();
            
            const checkoutUrl = url || (e.target.getAttribute('data-url') || e.target.href);
            const title = 'Square Payment Links';
            
            // Some platforms embed in an iframe, so we want to top window to calculate sizes correctly
            const topWindow = window.top ? window.top : window;
            
            // Fixes dual-screen position                                Most browsers          Firefox
            const dualScreenLeft = topWindow.screenLeft !==  undefined ? topWindow.screenLeft : topWindow.screenX;
            const dualScreenTop = topWindow.screenTop !==  undefined   ? topWindow.screenTop  : topWindow.screenY;
            
            const width = topWindow.innerWidth ? topWindow.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;
            const height = topWindow.innerHeight ? topWindow.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;
            
            const h = height * .75;
            const w = 500;
            
            const systemZoom = width / topWindow.screen.availWidth;
            const left = (width - w) / 2 / systemZoom + dualScreenLeft;
            const top = (height - h) / 2 / systemZoom + dualScreenTop;
            const newWindow = window.open(checkoutUrl, title, `scrollbars=yes, width=${w / systemZoom}, height=${h / systemZoom}, top=${top}, left=${left}`);
            
            if (window.focus) newWindow.focus();
        }
    </script>

    <!-- ============================================ -->
    <!--                 Footer                       -->
    <!-- ============================================ -->

    <footer id="cs-footer-2412">
        <div class="cs-container cs-container-top">
            <!-- Logo -->
             <picture>
                <source media="(max-width: 600px)" srcset="/public/content/home/footer-logo-m.webp">
                <source media="(min-width: 601px)" srcset="/public/content/home/footer-logo.webp">
                <img loading="lazy" src="/public/content/home/footer-logo.png" id="footer-logo" alt="Fishtown Logo" width="216" height="128">
            </picture>
            <!--Quick Links-->
            <div class="cs-quick-links">
                <ul class="cs-ul">
                    <li class="cs-li">
                        <a class="cs-link" href="/about">About</a>
                    </li>
                    <li class="cs-li">
                        <a class="cs-link" href="/pricing">Pricing</a>
                    </li>
                    <li class="cs-li">
                        <a class="cs-link" href="/web-design">Web Design</a>
                    </li>
                    <li class="cs-li">
                        <a class="cs-link" href="/seo">SEO</a>
                    </li>
                    <li class="cs-li">
                        <a class="cs-link" href="/contact">Contact</a>
                    </li>
                </ul>
            </div>
            <div class="cs-wrapper">
                <!--Subscribtion Form-->
                <div class="cs-subscribe">
                    <h2 class="cs-header">Subscribe for Special Offers & Newsletters</h2>
                    <form class="cs-form" name="Subscription Form" method="post" id="footer-newsletter-form" action="#" onsubmit="return false;">
                        <input class="cs-input cs-text" type="email" id="cs-subscribe-2412" name="Subscribe" placeholder="Email Address" required>
                        <button class="cs-button-solid cs-submit" type="submit" id="footer-subscribe-button">
                            <img class="cs-icon" src="/public/content/home/subscribe.png" alt="submit my email and subscribe" width="40" height="40" decoding="async" loading="lazy">
                        </button>
                    </form>
                    <div id="footer-newsletter-message" style="display: none; margin-top: 10px; margin-bottom: 1rem; padding: 10px; border-radius: 5px;"></div>
                </div>
                <div class="cs-bottom">
                    <!--Social-->
                    <div class="cs-social">
                        <a href="https://www.facebook.com/profile.php?id=61570913623739" class="cs-social-link" target="_blank" rel="noopener" aria-label="visit facebook">
                            <img class="cs-social-icon" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons/face-white1.svg" alt="facebook" loading="lazy" decoding="async" width="12" height="12">
                        </a>
                        <a href="https://instagram.com/fishtownwebdesign" class="cs-social-link" target="_blank" rel="noopener" aria-label="visit instagram">
                            <img class="cs-social-icon" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Icons/instagram.svg" alt="instagram" loading="lazy" decoding="async" width="12" height="12">
                        </a>
                    </div>
                    <!--Legal-->
                    <div class="cs-legal">
                        <a href="/tos" class="cs-legal-link cs-link">Terms & Conditions</a>
                        <span class="cs-divider" aria-hidden="true">|</span>
                        <a href="/pp" class="cs-legal-link cs-link">Privacy Policy</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="cs-credit">
            <span class="cs-ip cs-text">© <span id="current-year">2026</span> Fishtown Web Design. All rights reserved.</span>
        </div>
        <svg class="cs-curve" aria-hidden="true" width="1920" height="1" viewBox="0 0 1920 1" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="1920" height="1" fill="var(--overlayBG)"/>
        </svg>
    </footer>

    </div><!-- End page-wrapper -->

    <!-- ============================================ -->
    <!--                 Scripts                      -->
    <!-- ============================================ -->

    <script>
        // Mobile navigation
        const CSbody = document.querySelector('body');
        const CSnavbarMenu = document.querySelector('#cs-navigation');
        const CShamburgerMenu = document.querySelector('#cs-navigation .cs-toggle');

        if (CShamburgerMenu) {
            CShamburgerMenu.addEventListener('click', function() {
                CShamburgerMenu.classList.toggle('cs-active');
                CSnavbarMenu.classList.toggle('cs-active');
                CSbody.classList.toggle('cs-open');
                ariaExpanded();
            });
        }

        function ariaExpanded() {
            const csUL = document.querySelector('#cs-expanded');
            const csExpanded = csUL.getAttribute('aria-expanded');
            csUL.setAttribute('aria-expanded', csExpanded === 'false' ? 'true' : 'false');
        }

        // Mobile dropdowns
        const dropDowns = Array.from(document.querySelectorAll('#cs-navigation .cs-dropdown'));
        dropDowns.forEach(item => {
            item.addEventListener('click', () => item.classList.toggle('cs-active'));
        });

        // Update copyright year dynamically
        document.addEventListener('DOMContentLoaded', function() {
            const yearElement = document.getElementById('current-year');
            if (yearElement) {
                yearElement.textContent = new Date().getFullYear();
            }
        });

        // Footer Newsletter Subscription Handler
        document.addEventListener('DOMContentLoaded', function() {
            const footerNewsletterForm = document.getElementById('footer-newsletter-form');
            const footerNewsletterMessage = document.getElementById('footer-newsletter-message');
            const footerSubscribeButton = document.getElementById('footer-subscribe-button');
            const footerNewsletterInput = document.getElementById('cs-subscribe-2412');

            if (footerNewsletterForm) {
                footerNewsletterForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const email = footerNewsletterInput.value.trim();
                    
                    if (!email) {
                        showFooterMessage('Please enter your email address.', 'error');
                        return;
                    }

                    // Disable submit button during submission
                    footerSubscribeButton.disabled = true;
                    const originalButtonHTML = footerSubscribeButton.innerHTML;
                    footerSubscribeButton.innerHTML = '<span style="color: var(--bodyTextColorWhite);">Subscribing...</span>';

                    try {
                        const response = await fetch('/subscribe-newsletter', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify({ email: email })
                        });

                        const data = await response.json();

                        if (data.success) {
                            footerNewsletterInput.value = '';
                            showFooterMessage(data.message, 'success');
                        } else {
                            showFooterMessage(data.message, 'error');
                        }
                    } catch (error) {
                        showFooterMessage('There was an error processing your subscription. Please try again.', 'error');
                    } finally {
                        // Re-enable submit button
                        footerSubscribeButton.disabled = false;
                        footerSubscribeButton.innerHTML = originalButtonHTML;
                    }
                });

                function showFooterMessage(message, type) {
                    footerNewsletterMessage.textContent = message;
                    footerNewsletterMessage.style.display = 'block';
                    footerNewsletterMessage.style.backgroundColor = type === 'success' ? '#d4edda' : '#f8d7da';
                    footerNewsletterMessage.style.color = type === 'success' ? '#155724' : '#721c24';
                    footerNewsletterMessage.style.border = type === 'success' ? '1px solid #c3e6cb' : '1px solid #f5c6cb';
                    
                    // Hide message after 5 seconds
                    setTimeout(() => {
                        footerNewsletterMessage.style.display = 'none';
                    }, 5000);
                }
            }
        });
    </script>

    <!-- Cookie Consent Banner -->
    <div id="cookie-consent-banner" style="display: none; position: fixed; bottom: 0; left: 0; right: 0; background: #1a1a1a; color: #fff; padding: 1rem 1.5rem; z-index: 10000; box-shadow: 0 -4px 20px rgba(0,0,0,0.3);">
        <div style="max-width: 1200px; margin: 0 auto; display: flex; flex-wrap: wrap; align-items: center; justify-content: space-between; gap: 1rem;">
            <p style="margin: 0; font-size: 0.9rem; flex: 1; min-width: 280px; line-height: 1.5;">
                We use cookies to enhance your experience and analyze site traffic. By clicking "Accept", you consent to our use of cookies. 
                <a href="/pp" style="color: #f8c882; text-decoration: underline;">Privacy Policy</a>
            </p>
            <div style="display: flex; gap: 0.75rem; flex-shrink: 0;">
                <button id="cookie-decline" style="padding: 0.6rem 1.25rem; background: transparent; border: 1px solid #666; color: #fff; border-radius: 4px; cursor: pointer; font-size: 0.875rem; transition: all 0.2s;">Decline</button>
                <button id="cookie-accept" style="padding: 0.6rem 1.25rem; background: #f8c882; border: none; color: #1a1a1a; border-radius: 4px; cursor: pointer; font-size: 0.875rem; font-weight: 600; transition: all 0.2s;">Accept</button>
            </div>
        </div>
    </div>

    <script>
        // Cookie Consent Management
        (function() {
            const banner = document.getElementById('cookie-consent-banner');
            const acceptBtn = document.getElementById('cookie-accept');
            const declineBtn = document.getElementById('cookie-decline');
            
            const consent = localStorage.getItem('cookie-consent');
            
            if (consent === null) {
                banner.style.display = 'block';
            } else if (consent === 'accepted') {
                loadGoogleAnalytics();
            }
            
            acceptBtn.addEventListener('click', function() {
                localStorage.setItem('cookie-consent', 'accepted');
                banner.style.display = 'none';
                loadGoogleAnalytics();
            });
            
            declineBtn.addEventListener('click', function() {
                localStorage.setItem('cookie-consent', 'declined');
                banner.style.display = 'none';
            });
            
            function loadGoogleAnalytics() {
                if (window.gaLoaded) return;
                window.gaLoaded = true;
                
                var script = document.createElement('script');
                script.async = true;
                script.src = 'https://www.googletagmanager.com/gtag/js?id=G-P9ZFLQPT8E';
                document.head.appendChild(script);
                
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                window.gtag = gtag;
                gtag('js', new Date());
                gtag('config', 'G-P9ZFLQPT8E');
            }
        })();
    </script>
</body>
</html>
